/**
 * File:
 *  rw.ycp
 *
 * Module:
 *  DHCP server configurator
 *
 * Summary:
 *  Read and write testsuite
 *
 * Authors:
 *  Jiri Srain <jsrain@suse.cz>
 *
 * $Id$
 *
 */

{
    include "testsuite.ycp";
    import "Progress";
    import "DnsServer";
    import "Mode";

    Mode::test = true;

    DnsServer::Import ($[
	"options":$[
	    "allow-query":"{ 127.0.0.1; }",
	     "directory":"\"/var/lib/named\"",
	], "zones":[
	     $[
		"file":"localhost.zone",
		"records":$[],
		"soa":$[
		    "expiry":"6W",
		    "mail":"root",
		    "minimum":"1W",
		    "refresh":"2D",
		    "retry":"4H",
		    "serial":2003062300,
		    "server":"@",
		    "zone":"@"
		],
		"ttl":"1W",
		"type":"master",
		"zone":"localhost",
		"zone_rec":$[
		    "A":["127.0.0.1"],
		    "MX":[],
		    "NS":["@"]
		],
		"changed" : true,
	    ],
	     $[
		"file":"my.zone",
		"records":$[],
		"soa":$[
		    "expiry":"6W",
		    "mail":"root",
		    "minimum":"1W",
		    "refresh":"2D",
		    "retry":"4H",
		    "serial":2003062300,
		    "server":"@",
		    "zone":"@"
		],
		"ttl":"1W",
		"type":"master",
		"zone":"my.cz",
		"zone_rec":$[
		    "MX":["mail.my.cz", "mail2.my.cz"],
		    "NS":["ns.my.cz", "ns2.my.cz"]
		],
		"changed" : true,
	    ],
	]
    ]);
    TEST (``(DnsServer::Summary ()), [], 0);
    DUMP ("=======================");
}
